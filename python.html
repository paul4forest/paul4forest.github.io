<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Paul Rougieux" />

<meta name="date" content="2017-08-17" />

<title>Python Commands</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Paul Rougieux</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-wrench"></span>
     
    Tools
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="bash.html">Bash</a>
    </li>
    <li>
      <a href="communication.html">Communication</a>
    </li>
    <li>
      <a href="debian.html">Debian</a>
    </li>
    <li>
      <a href="docker.html">Docker</a>
    </li>
    <li>
      <a href="git.html">Git</a>
    </li>
    <li>
      <a href="lyx.html">Lyx</a>
    </li>
    <li>
      <a href="mysql.html">MySQL</a>
    </li>
    <li>
      <a href="python.html">Python</a>
    </li>
    <li>
      <a href="R.html">R</a>
    </li>
    <li>
      <a href="vim.html">Vim</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-database"></span>
     
    Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="datasources.html">Sources</a>
    </li>
    <li>
      <a href="explore.html">Explore</a>
    </li>
  </ul>
</li>
<li>
  <a href="events.html">
    <span class="fa fa-users"></span>
     
    Events
  </a>
</li>
<li>
  <a href="publications.html">
    <span class="fa fa-book"></span>
     
    Publications
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Python Commands</h1>
<h4 class="author">Paul Rougieux</h4>
<h4 class="date">17 August 2017</h4>

</div>


<div id="pip" class="section level1">
<h1>Pip</h1>
<p>pypi.org <a href="https://pypi.org/project/pip/">pip</a>:</p>
<blockquote>
<p>“pip is the package installer for Python. You can use pip to install packages from the Python Package Index and other indexes.”</p>
</blockquote>
<div id="install-an-old-version" class="section level2">
<h2>Install an old version</h2>
<p>For example to install pandas 0.24.2</p>
<pre><code> python3 -m pip install --user pandas==0.24.2 </code></pre>
<p>or</p>
<pre><code>pip3 install --user pandas==0.24.2</code></pre>
</div>
</div>
<div id="control-flow" class="section level1">
<h1>Control flow</h1>
<p>dotnetperls: <a href="https://www.dotnetperls.com/not-python">not python</a></p>
</div>
<div id="editors" class="section level1">
<h1>Editors</h1>
<div id="spyder" class="section level2">
<h2>Spyder</h2>
<p>I have set the following shortcuts to be similar to RStudio:</p>
<ul>
<li>Ctrl+H find and replace dialog</li>
<li>Ctrl+R run selection or current line</li>
<li>Ctrl+Shift+C comment/uncomment code block</li>
<li>F1 inspect current object (i.e. display function and classes documentation)</li>
<li>F2 go to function definition</li>
</ul>
</div>
</div>
<div id="neural-networks" class="section level1">
<h1>Neural Networks</h1>
<div id="pytorch" class="section level2">
<h2>Pytorch</h2>
<p>Print the size of the output layer</p>
<pre><code>import torch
import torch.nn as nn
x = torch.randn(28,28).view(-1,1,28,28)
model = nn.Sequential(
      nn.Conv2d(1, 32, (3, 3)),
      nn.ReLU(),
      nn.MaxPool2d((2, 2)),
      nn.Conv2d(32, 64, (3, 3)),
)
print(model(x).shape)</code></pre>
</div>
</div>
<div id="object-types" class="section level1">
<h1>Object types</h1>
<p><code>type()</code> displays the type of an object.</p>
<pre><code>i = 1
print(type(i))
# &lt;type &#39;int&#39;&gt;
x = 1.2
print(type(x))
# &lt;type &#39;float&#39;&gt;
t = (1,2)
print(type(t))
# &lt;type &#39;tuple&#39;&gt;
l = [1,2]
print(type(l))
# &lt;type &#39;list&#39;&gt;</code></pre>
<div id="list" class="section level2">
<h2>List</h2>
<p><a href="https://stackoverflow.com/a/31077838/2641825">Remove an element from a list of strings</a></p>
<pre><code>myList = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]
myList.remove(&#39;c&#39;)
myList
[&#39;a&#39;, &#39;b&#39;, &#39;d&#39;]</code></pre>
<div id="list-of-tuples" class="section level3">
<h3>List of tuples</h3>
<p><a href="https://stackoverflow.com/questions/10632839/transform-list-of-tuples-into-a-flat-list-or-a-matrix">How to flatten a list of tuples</a></p>
<pre><code>nested_list = [(1, 2, 4), (0, 9)]</code></pre>
<p>Using <code>reduce</code>:</p>
<pre><code>reduce(lambda x,y:x+y, map(list, nested_list))                                                                                                                              
[1, 2, 4, 0, 9]</code></pre>
<p>Using itertools.chain:</p>
<pre><code>import itertools
list(itertools.chain.from_iterable(nested_list))</code></pre>
<p>Using <code>extend</code>:</p>
<pre><code>flat_list = []
for a_tuple in nested_list:
    flat_list.extend(list(a_tuple))                                                                                                                                     
flat_list
[1, 2, 4, 0, 9]</code></pre>
</div>
</div>
<div id="set" class="section level2">
<h2>Set</h2>
<p>Instances of <a href="https://docs.python.org/3/library/stdtypes.html#set">set</a> provide the following operations:</p>
<pre><code>issubset(other)
set &lt;= other

    Test whether every element in the set is in other.

set &lt; other

    Test whether the set is a proper subset of other, that is, set &lt;= other and set != other.

issuperset(other)
set &gt;= other

    Test whether every element in other is in the set.

set &gt; other

    Test whether the set is a proper superset of other, that is, set &gt;= other and set != other.

union(*others)
set | other | ...

    Return a new set with elements from the set and all others.

intersection(*others)
set &amp; other &amp; ...

    Return a new set with elements common to the set and all others.

difference(*others)
set - other - ...

    Return a new set with elements in the set that are not in the others.

symmetric_difference(other)
set ^ other

    Return a new set with elements in either the set or other but not both.</code></pre>
</div>
</div>
<div id="ipython" class="section level1">
<h1>ipython</h1>
<p>Add these options at the ipyhton command line to reload objects automatically while you are coding</p>
<pre><code>%load_ext autoreload   
%autoreload 2         </code></pre>
<div id="debugging-in-ipython" class="section level2">
<h2>Debugging in ipython</h2>
<p>Once an error occurs at the ipython command line. Press <code>debug</code> then you can move up the stack trace with:</p>
<pre><code>`u`</code></pre>
<p>Move down the stack trace with:</p>
<pre><code>`d` </code></pre>
<p>Show code context of the error:</p>
<pre><code>`l` </code></pre>
<p>Show available variable in the current context:</p>
<pre><code>`a` </code></pre>
</div>
</div>
<div id="jupyter-notebooks" class="section level1">
<h1>Jupyter notebooks</h1>
<div id="install-jupyter" class="section level2">
<h2>Install Jupyter</h2>
<p>To <a href="https://jupyter.org/install">install Jupyter</a> notebooks on python3:</p>
<pre><code>pip3 install jupyter notebook</code></pre>
<p>Then start the notebook server as such:</p>
<pre><code>jupyter notebook</code></pre>
</div>
<div id="table-of-content-in-your-notebooks" class="section level2">
<h2>table of content in your notebooks</h2>
<p>Install <a href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions">jupyter_contrib_nbextensions</a></p>
<pre><code>python3 -m pip install --user jupyter_contrib_nbextensions
python3 -m jupyter contrib nbextension install --user</code></pre>
<p>Activate the table of content extension:</p>
<pre><code>python3 -m jupyter nbextension enable toc2/main</code></pre>
<p>There are many other extensions available in this package. Optionally you can install the jupyter notebook extension configurator (not needed)</p>
<pre><code>python3 -m pip install --user jupyter_nbextensions_configurator
jupyter nbextensions_configurator enable --user</code></pre>
<p>This will make a configuration interface available at:</p>
<pre><code>http://localhost:8888/nbextensions</code></pre>
<p>Using the old Table of Content extension <a href="https://github.com/minrk/ipython_extensions#table-of-contents">jupyter table of content extension</a></p>
<pre><code>jupyter nbconvert --to markdown mynotebook.ipynb
jupyter nbconvert --to html mynotebook.ipynb</code></pre>
</div>
<div id="help-in-a-jupyter-notebook" class="section level2">
<h2>Help in a jupyter notebook</h2>
<p>To get help on a function, enter <code>function_name?</code> in a cell. Quick hep can also be obtained by pressing SHIFT + TAB.</p>
</div>
<div id="call-bash-from-a-notebook" class="section level2">
<h2>Call bash from a notebook</h2>
<p>Prefix the bash call with an exclamation mark, for example:</p>
<pre><code>!df -h</code></pre>
<p>In fact the question mark also works from an ipython shell. See also <a href="https://stackoverflow.com/questions/45784499/difference-between-and-in-jupyter-notebooks">Difference between ! and % in Jupyter Notebooks</a></p>
</div>
<div id="download-data-from-a-jupyter-notebook" class="section level2">
<h2>Download data from a jupyter notebook</h2>
<p>I wrote this csv download function in an <a href="https://stackoverflow.com/a/57613621/2641825">SO answer</a></p>
<pre><code>def csv_download_link(df, csv_file_name, delete_prompt=True):
    &quot;&quot;&quot;Display a download link to load a data frame as csv from within a Jupyter notebook&quot;&quot;&quot;
    df.to_csv(csv_file_name, index=False)
    from IPython.display import FileLink
    display(FileLink(csv_file_name))
    if delete_prompt:
        a = input(&#39;Press enter to delete the file after you have downloaded it.&#39;)
        import os
        os.remove(csv_file_name)</code></pre>
<p>To get a link to a csv file, enter the above function and the code below in a jupyter notebook cell :</p>
<pre><code>csv_download_link(df, &#39;df.csv&#39;)</code></pre>
</div>
<div id="archive-notebooks-in-a-revision-control-system-like-git" class="section level2">
<h2>Archive notebooks in a revision control system like git</h2>
<p>Convert notebooks to markdown so they are easier to track in git.</p>
<p>Install <a href="https://github.com/mwouts/jupytext" class="uri">https://github.com/mwouts/jupytext</a></p>
<pre><code>python3 -m pip install --user jupytext</code></pre>
<p>More commands:</p>
<pre><code>python3 -m jupyter notebook --generate-config
vim ~/.jupyter/jupyter_notebook_config.py</code></pre>
<p>Add this line:</p>
<pre><code>c.NotebookApp.contents_manager_class = &quot;jupytext.TextFileContentsManager&quot;</code></pre>
<p>And also this line if you always want to pair notebooks with their markdown counterparts:</p>
<pre><code>c.ContentsManager.default_jupytext_formats = &quot;ipynb,md&quot;</code></pre>
<p>More commands:</p>
<pre><code>python3 -m jupyter nbextension install jupytext --py --user
python3 -m jupyter nbextension enable  jupytext --py --user</code></pre>
<p>Add syncing to a given notebook:</p>
<pre><code># Markdown sync
jupytext --set-formats ipynb,md --sync ~/repos/example_repos/notebooks/test.ipynb
# Python sync
jupytext --set-formats ipynb,py --sync ~/repos/example_repos/notebooks/test.ipynb</code></pre>
</div>
</div>
<div id="functions" class="section level1">
<h1>Functions</h1>
<p>Functions in python can be defined with</p>
<pre><code>def add_one(x):
    return x + 1
add_one(1)

# 2</code></pre>
<div id="decorators" class="section level2">
<h2>Decorators</h2>
<p>Decorators are a way to wrap a function around another function. It is useful to repeat a pattern of behaviour around a function.</p>
<ul>
<li>Data camp <a href="https://www.datacamp.com/community/tutorials/decorators-python">course on decorators</a></li>
<li>Examples <a href="https://www.oreilly.com/ideas/5-reasons-you-need-to-learn-to-write-python-decorators">5 use cases for decorators</a></li>
</ul>
<p>I have used decorators to cache the function output along a data processing pipeline.</p>
</div>
</div>
<div id="math" class="section level1">
<h1>Math</h1>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-do-math-in-python-3-with-operators">How to do maths in python 3 with operators</a></p>
<p>2 to the power of 3</p>
<pre><code>2**3
# 8</code></pre>
<p>Floor division</p>
<pre><code>5//3
# 1</code></pre>
<p>Modulo</p>
<pre><code>5%3
# 2</code></pre>
</div>
<div id="numpy-vectors-and-matrices-arrays" class="section level1">
<h1>Numpy vectors and matrices (arrays)</h1>
<p>All examples below are based on the numpy package being imported as np :</p>
<pre><code>import numpy as np</code></pre>
<p>Random vector or matrices</p>
<pre><code>x = np.random.random([3,4])
x
# array([[0.64174957, 0.18540429, 0.7045183 , 0.44623567],
#        [0.97558697, 0.69314058, 0.32469324, 0.82612627],
#        [0.51646795, 0.71055115, 0.74864751, 0.2142459 ]])</code></pre>
<div id="indexing-multi-dimensional-arrays-and-masks" class="section level2">
<h2>Indexing Multi-dimensional arrays and masks</h2>
<p>Numpy <a href="https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html">array indexing</a></p>
<blockquote>
<p>“Basic slicing extends Python’s basic concept of slicing to N dimensions. Basic slicing occurs when obj is a slice object (constructed by start:stop:step notation inside of brackets), an integer, or a tuple of slice objects and integers.” […] The basic slice syntax is i:j:k where i is the starting index, j is the stopping index, and k is the step (<span class="math inline">\(k\neq0\)</span>). “[…]”Advanced indexing always returns a copy of the data (contrast with basic slicing that returns a view).&quot; “Integer array indexing allows selection of arbitrary items in the array based on their N-dimensional index. Each integer array represents a number of indexes into that dimension.”</p>
</blockquote>
<pre><code>x[0:3,0:2]
# array([[0.64174957, 0.18540429],
#        [0.97558697, 0.69314058],
#        [0.51646795, 0.71055115]])</code></pre>
<p>In this case because every row is selected, it is the same as:</p>
<pre><code>x[:,0:2]</code></pre>
<p>Examples modified from <a href="https://docs.scipy.org/doc/numpy/user/basics.indexing.html" class="uri">https://docs.scipy.org/doc/numpy/user/basics.indexing.html</a></p>
<pre><code>y = np.arange(35).reshape(5,7)
print(y[np.array([0,2,4]), np.array([0,1,2])])

print(&#39;With slice 1:3&#39;)
print(y[np.array([0,2,4]),1:3])
print(&#39;is equivalent to&#39;)
print(y[np.array([[0],[2],[4]]),np.array([[1,2]])])
# This one is the same but transposed, which is weird
print(y[np.array([[0,2,4]]),np.array([[1],[2]])])
# Notice the difference with the following
print(y[np.array([0,2,4]),np.array([1,2,3])])</code></pre>
<p>Masks <a href="https://docs.scipy.org/doc/numpy/reference/maskedarray.generic.html">masked array</a> We wish to mark the fourth entry as invalid. The easiest is to create a masked array:</p>
<pre><code>x = np.array([1, 2, 3, -1, 5])
mx = np.ma.masked_array(x, mask=[0, 0, 0, 1, 0])
print(x.sum(), mx.sum())
# 10 11</code></pre>
</div>
<div id="simple-matrix-operations-and-shapes" class="section level2">
<h2>Simple matrix operations and shapes</h2>
<p>Matrix of zeroes</p>
<pre><code>np.zeros([2,2])
#array([[0., 0.],
#       [0., 0.]])</code></pre>
<p>Create a vector</p>
<pre><code>a = np.array([1,2,3])</code></pre>
<p>Create a matrix</p>
<pre><code>b = np.array([[1,2,3],[5,6,6]])</code></pre>
<p>Shape</p>
<pre><code>a.shape
# (3,)
b.shape
# (2, 3)</code></pre>
<p>Transpose</p>
<pre><code>b.transpose()
# array([[1, 5],
#        [2, 6],
#        [3, 6]])
c = b.transpose()</code></pre>
<p>Math functions in numpy:</p>
<pre><code>np.cos()
np.sin()
np.tan()
np.exp()</code></pre>
<p>min and max</p>
<pre><code>x = np.array([1,2,3,4,5,-7,10,-8])
x.max()
# 10
x.min()
# -8</code></pre>
</div>
<div id="matrix-multiplication" class="section level2">
<h2>Matrix multiplication</h2>
<p>Matrix multiplication <a href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.matmul.html">matmul</a></p>
<pre><code>np.matmul(a,c)
# array([14, 35])

# Can also be written as
a @ c
# array([14, 35])</code></pre>
<p>Otherwise the multiplication symbol implements an element wise multiplication, also called the <a href="https://en.wikipedia.org/wiki/Hadamard_product_(matrices)">Hadamard product</a>. It only works on 2 matrices of same dimensions. Element-wise multiplication is used for example in convolution kernels.</p>
<pre><code>b * b
# array([[ 1,  4,  9],
#        [25, 36, 36]])</code></pre>
<p>Linear algebra with numpy.linalg For example the norm of a matrix or vector:</p>
<pre><code>np.linalg.norm(x)
# 16.3707055437449
np.linalg.norm(np.array([3,4]))
# 5.0
np.linalg.norm(a)
# 3.7416573867739413</code></pre>
<p>Norm of the matrix for the regularization parameter in a machine learning model</p>
<pre><code>bli = np.array([[1, 1, 0.0, 0.0, 0.0],
                [0.0, 0.0, 0.0, 0.0, 0.0],
                [0.0, 0.0, 0.0, 0.0, 0.0],
                [0.0, 0.0, 0.0, 0.0, 0.0],
                [0.0, 0.0, 0.0, 0.0, 0.0],
                [0.0, 0.0, 0.0, 0.0, 0.0],
                [0.0, 1, 0.0, 0.0, 0.0]])
sum(np.linalg.norm(bli, axis=0)**2) 3.0000000000000004
sum(np.linalg.norm(bli, axis=1)**2) 3.0000000000000004
np.linalg.norm(bli)**2 2.9999999999999996</code></pre>
<p>Append vs concatenate</p>
<pre><code>x = np.array([1,2])
print(np.append(x,x))
# [1 2 1 2]
print(np.concatenate((x,x),axis=None))
a = np.array([[1, 2], [3, 4]])
b = np.array([[5, 6]])
print(np.concatenate((a, b), axis=0))
print(np.concatenate((a, b.T), axis=1))
print(np.concatenate((a, b), axis=None))</code></pre>
</div>
</div>
<div id="objects" class="section level1">
<h1>Objects</h1>
<div id="inheritance-and-composition" class="section level2">
<h2>Inheritance and composition</h2>
<p>Example</p>
<pre><code>###############################################################################
class Vehicle(object):

    def __init__(self, color, speed_max, garage=None):
        # Default attributes #
        self.color = color
        self.speed_max = speed_max
        self.garage = garage

    def paint(self, new_color):
        # Default attributes #
        self.color = new_color

    def go_back_home(self, new_color):
        # Default attributes #
        self.position = self.go_to(self.parent.location)

###############################################################################
class Car(Vehicle):

    def open_door(self):
        pass

###############################################################################
class Boat(Vehicle):

    def open_balast(self):
        pass

###############################################################################
class Garage(object):

    def __init__(self, all_vehicles):
        self.all_vehicles = all_vehicles

    def mass_paint(self, new_color):
        # Default attributes #
        for v in self.all_vehicles: v.paint(new_color)

    def build_car(self, color):
        new_car = Car(color, 90, self)
        self.all_vehicles.append(new_car)
        return new_car

    @property
    def location(self):
        return &#39;10, 18&#39;

###############################################################################
###############################################################################
###############################################################################
honda = Car(&#39;bleu&#39;, 60)
gorgeoote = Boat(&#39;rouge&#39;, 30)
honda.paint(&#39;purple&#39;)

mike = Garage([honda, gorgeoote])

mike.mass_paint()

sport_car = mike.build_car(&#39;rouge&#39;)</code></pre>
</div>
</div>
<div id="pandas-data-frames" class="section level1">
<h1>Pandas data frames</h1>
<div id="creating-a-pandas-data-frame" class="section level2">
<h2>Creating a pandas data frame</h2>
<p>You can create a data frame by passing a dictionary :</p>
<pre><code>import pandas 
pandas.DataFrame({&#39;a&#39;:range(0,3),&#39;b&#39;:range(3,6)})
       a  b
    0  0  3
    1  1  4
    2  2  5</code></pre>
</div>
<div id="joining-and-merging" class="section level2">
<h2>Joining and merging</h2>
<p>Stackoverflow <a href="https://stackoverflow.com/questions/53645882/pandas-merging-101/53645883#53645883">Pandas mergin</a></p>
</div>
<div id="reshaping" class="section level2">
<h2>Reshaping</h2>
<p><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/reshaping.html#reshaping-by-melt">The Pandas user guide on reshaping</a> gives several example using <code>melt</code> (easier to rename the “variable” and “value” columns) or <code>stack</code> (designed to work together with MultiIndex objects).</p>
</div>
<div id="replacement" class="section level2">
<h2>Replacement</h2>
<p><a href="https://stackoverflow.com/questions/12152716/python-pandas-equivalent-for-replace">Pyton pandas equivalent for replace</a></p>
<pre><code>import pandas
s = pandas.Series([&quot;ape&quot;, &quot;monkey&quot;, &quot;seagull&quot;])
s.replace([&quot;ape&quot;, &quot;monkey&quot;], [&quot;lion&quot;, &quot;panda&quot;])
s.replace(&quot;a&quot;, &quot;x&quot;, regex=True)
`s.replace({&quot;ape&quot;: &quot;lion&quot;, &quot;monkey&quot;: &quot;panda&quot;})`
pandas.Series([&quot;bla&quot;, &quot;bla&quot;]).replace(&quot;a&quot;,&quot;i&quot;,regex=True)</code></pre>
</div>
<div id="selection-with-loc-iloc-query-and-isin" class="section level2">
<h2>Selection with loc, iloc, query and isin</h2>
<ul>
<li>blog <a href="https://www.shanelynn.ie/select-pandas-dataframe-rows-and-columns-using-iloc-loc-and-ix/">Select pandas data frame rows and columns using iloc and loc</a></li>
</ul>
<div id="loc" class="section level3">
<h3>loc</h3>
<p><code>.loc</code> is primarily label based, but may also be used with a boolean array.</p>
<p>I copied the examples below from the pandas <strong>loc</strong> documentation at: <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.loc.html">pandas.DataFrame.loc</a></p>
<p>Create an example data frame</p>
<pre><code>import pandas
df = pandas.DataFrame([[1, 2], [4, 5], [7, 8]],
                      index=[&#39;cobra&#39;, &#39;viper&#39;, &#39;sidewinder&#39;],
                      columns=[&#39;max_speed&#39;, &#39;shield&#39;])</code></pre>
<p>List of index labels</p>
<pre><code>In :  df.loc[[&#39;viper&#39;, &#39;sidewinder&#39;]]
Out:
                    max_speed  shield
        viper               4       5
        sidewinder          7       8</code></pre>
<p>Conditional that returns a boolean Series</p>
<pre><code>In :  df.loc[df[&#39;shield&#39;] &gt; 6]
Out:
                     max_speed  shield
         sidewinder          7       8</code></pre>
<p>Select rows that are not in [‘cobra’,‘viper’] Based on a <a href="https://stackoverflow.com/a/29140194/2641825">SO answer use isin on the index</a>:</p>
<pre><code>In : df.index.isin([&#39;cobra&#39;,&#39;viper&#39;])
Out: array([ True,  True, False])

In : df.loc[~df.index.isin([&#39;cobra&#39;,&#39;viper&#39;])]
Out: 
            max_speed  shield
sidewinder          7       8</code></pre>
<p>Slice with labels for row and labels for columns.</p>
<pre><code>In :  df.loc[&#39;cobra&#39;:&#39;viper&#39;, &#39;max_speed&#39;:&#39;shield&#39;]
Out:
               max_speed  shield
        cobra          1       2
        viper          4       5</code></pre>
<p>Set value for all items matching the list of labels</p>
<pre><code>In : df.loc[[&#39;viper&#39;, &#39;sidewinder&#39;], [&#39;shield&#39;]] = 50

In : df
Out:
                    max_speed  shield
        cobra               1       2
        viper               4      50
        sidewinder          7      50</code></pre>
<p>Another example using integers for the index</p>
<pre><code>In : df = pandas.DataFrame([[1, 2], [4, 5], [7, 8]],
                           index=[7, 8, 9],
                           columns=[&#39;max_speed&#39;, &#39;shield&#39;])</code></pre>
<p>Slice with integer labels for rows. Note that both the start and stop of the slice are included.</p>
<pre><code>In :  df.loc[8:9]
Out:
      max_speed  shield
   8          4       5
   9          7       8</code></pre>
</div>
<div id="iloc" class="section level3">
<h3>iloc</h3>
<p><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#indexing-integer">.iloc</a> is primarily integer position based (from 0 to length -1 of the axis), but may also be used with a boolean array.</p>
<p>Create a sample data frame:</p>
<pre><code>In : example = [{&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4},
                {&#39;a&#39;: 100, &#39;b&#39;: 200, &#39;c&#39;: 300, &#39;d&#39;: 400},
                {&#39;a&#39;: 1000, &#39;b&#39;: 2000, &#39;c&#39;: 3000, &#39;d&#39;: 4000 }]
      df = pandas.DataFrame(example)

In : df
Out: 
            a     b     c     d
      0     1     2     3     4
      1   100   200   300   400
      2  1000  2000  3000  4000</code></pre>
<p>Index with a slice object. Note that it doesn’t include the upper bound.</p>
<pre><code>In :  df.iloc[0:2]
Out: 
          a    b    c    d
     0    1    2    3    4
     1  100  200  300  400</code></pre>
<p>With lists of integers.</p>
<pre><code>In : df.iloc[[0, 2], [1, 3]]
Out: 
            b     d
      0     2     4
      2  2000  4000</code></pre>
<p>With slice objects.</p>
<pre><code>In : df.iloc[1:3, 0:3]
Out: 
            a     b     c
      1   100   200   300
      2  1000  2000  3000</code></pre>
<p>With a boolean array whose length matches the columns.</p>
<pre><code>In : df.iloc[:, [True, False, True, False]]
Out: 
            a     c
      0     1     3
      1   100   300
      2  1000  3000</code></pre>
</div>
<div id="query" class="section level3">
<h3>Query</h3>
<p>Query the columns of a Data Frame with a boolean expression.</p>
<pre><code>df = pandas.DataFrame({&#39;A&#39;: range(1, 6),
                       &#39;B&#39;: range(10, 0, -2),
                       &#39;C&#39;: range(10, 5, -1)})
df.query(&quot;A &gt; B&quot;)

A  B  C
5  2  6</code></pre>
<p>Query using a variable</p>
<pre><code>limit = 3
df.query(&quot;A &gt; @limit&quot;)

A  B  C
4  4  7
5  2  6</code></pre>
</div>
<div id="isin" class="section level3">
<h3>isin</h3>
<p><a href="https://stackoverflow.com/questions/12096252/use-a-list-of-values-to-select-rows-from-a-pandas-dataframe">Use alist of values to select rows</a></p>
<pre><code>df = pandas.DataFrame({&#39;A&#39;: [5,6,3,4], &#39;B&#39;: [1,2,3,5]})
df[df[&#39;A&#39;].isin([3, 6])]
df.loc[df[&#39;A&#39;].isin([3, 6])]
df.query(&quot;A in [3,6]&quot;)</code></pre>
</div>
</div>
<div id="string-operations" class="section level2">
<h2>String operations</h2>
<p>Concatenate all values in a character vector:</p>
<pre><code>df[&#39;A&#39;].str.cat()</code></pre>
<p>Replace elements in a character vector:</p>
<pre><code>df[&#39;A&#39;].replace(&#39;a&#39;,&#39;b&#39;,regex=True)</code></pre>
</div>
<div id="difference-between-2-data-frames" class="section level2">
<h2>Difference between 2 data frames</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/48647534/python-pandas-find-difference-between-two-data-frames">Find difference between two data frames</a></li>
<li><a href="https://stackoverflow.com/questions/36891977/pandas-diff-of-two-dataframes/36893773">Diff of 2 data frames</a></li>
</ul>
<p>Two methods Using <code>merge</code>:</p>
<pre><code>merged = df1.merge(df2, indicator=True, how=&#39;outer&#39;)
merged[merged[&#39;_merge&#39;] == &#39;right_only&#39;]</code></pre>
<p>Using <code>drop_duplicates</code></p>
<pre><code>newdf=pd.concat[df1,df2].drop_duplicates(keep=False)</code></pre>
</div>
</div>
<div id="plot" class="section level1">
<h1>Plot</h1>
<div id="matplotlib" class="section level2">
<h2>Matplotlib</h2>
<p>All matplotlib examples require the following imports:</p>
<pre><code>%matplotlib inline
from matplotlib import pyplot
pyplot.style.use(&#39;seaborn-whitegrid&#39;)
import numpy as np</code></pre>
<p>Simple line plot changing the figure size and the axes limit with pyplot</p>
<pre><code>pyplot.rcParams[&#39;figure.figsize&#39;] = [10, 10]
fig = pyplot.figure()
ax = pyplot.axes()
x = np.linspace(-1.5, 1.5, 1000)
ax.plot(x, 1-3*x)
ax.set_xlim(-6, 6)
ax.set_ylim(-6, 6)</code></pre>
<p>Scatter plot, using a colour variable and the ‘jet’ colour map.</p>
<pre><code>Y = np.array([1,-1,-1, 1])
X = np.array([
        [-1, -1],
        [ 1, -1],
        [-1,  1],
        [ 1,  1]])
fig = pyplot.figure()
ax = pyplot.axes()
ax.scatter(X[:,0], X[:,1],c=Y, cmap=&#39;jet&#39;)</code></pre>
<p>Use another <a href="https://matplotlib.org/examples/color/colormaps_reference.html">colour map</a></p>
<pre><code>ax.scatter(X[:,0], X[:,1],c=Y, cmap=&#39;Spectral&#39;)</code></pre>
<p>Plot the probability density function of the <a href="https://en.wikipedia.org/wiki/Normal_distribution">normal distribution</a>.</p>
<p><span class="math display">\[f(x)=\frac{1}{\sigma{\sqrt {2\pi }}}e^{-{\frac {1}{2}}\left({\frac {x-\mu }{\sigma }}\right)^{2}}\]</span></p>
<p>with various sigma and mu values displayed in the legend.</p>
<pre><code>fig = pyplot.figure()
ax = pyplot.axes()
x = np.linspace(-5, 5, 1000)
def pdensitynormal(x,sigma_squared,mu):
    sigma = np.sqrt(sigma_squared)
    return 1/(sigma*np.sqrt(2*np.math.pi))*np.exp(-1/2*((x-mu)/sigma)**2)
ax.plot(x, pdensitynormal(x,0.2,0), label=&quot;$\sigma^2=0.2, \mu=0$&quot;)
ax.plot(x, pdensitynormal(x,1,0), label=&quot;$\sigma^2=1, \mu=0$&quot;)
ax.plot(x, pdensitynormal(x,5,0), label=&quot;$\sigma^2=5, \mu=0$&quot;)
ax.plot(x, pdensitynormal(x,0.5,-2), label=&quot;$\sigma^2=0.5, \mu=-2$&quot;)
ax.legend(loc=&quot;upper right&quot;)</code></pre>
<p>3D line, contour plot and scatter plot</p>
<pre><code>from mpl_toolkits import mplot3d # Required for 3d plots
fig = pyplot.figure()
ax = pyplot.axes(projection=&#39;3d&#39;)
# Data for a three-dimensional line
xline = numpy.linspace(-10, 10, 1000)
yline = numpy.linspace(-10, 10, 1000)
# Just a line
zline = xline**2 + yline**2
ax.plot3D(xline, yline, zline, &#39;gray&#39;)
# A mesh grid
X, Y = numpy.meshgrid(x, y)
Z = X**2 + Y**2
ax.contour3D(X, Y, Z, 50, cmap=&#39;binary&#39;)
# Scatter points
ax.scatter(1,2,3)</code></pre>
</div>
<div id="seaborn" class="section level2">
<h2>Seaborn</h2>
<p>All seaborn examples below require the following imports and datasets:</p>
<pre><code>import seaborn
iris = seaborn.load_dataset(&quot;iris&quot;)
tips = seaborn.load_dataset(&quot;tips&quot;) 
from matplotlib import pyplot</code></pre>
<div id="axes-limit" class="section level3">
<h3>Axes limit</h3>
<p>Set limits on the one axis in a Seaborn plot:</p>
<pre><code>p = seaborn.scatterplot(&#39;petal_length&#39;,&#39;petal_width&#39;,&#39;species&#39;,data=iris)
p.set(ylim=(-2,None))</code></pre>
<p>In Seaborn facet grid. <a href="https://stackoverflow.com/a/25213614/2641825">How to set xlim and ylim in seaborn facet grid</a></p>
<pre><code>g = seaborn.FacetGrid(tips, col=&quot;time&quot;, row=&quot;smoker&quot;)
g = g.map(pyplot.hist, &quot;total_bill&quot;)
g.set(ylim=(0, None)) </code></pre>
</div>
<div id="grid-plot" class="section level3">
<h3>Grid plot</h3>
<pre><code>g = seaborn.FacetGrid(iris, col=&quot;species&quot;)
iris[&#39;species&#39;] = iris[&#39;species&#39;].astype(&#39;category&#39;)
g.map(seaborn.scatterplot,&#39;petal_length&#39;,&#39;petal_width&#39;,&#39;species&#39;)</code></pre>
<p>Notice that if you don’t change the color to a categorical variable, it will not vary across the species. I reported <a href="https://github.com/mwaskom/seaborn/issues/2028">this issue</a>.</p>
</div>
<div id="title" class="section level3">
<h3>Title</h3>
<p>Use <code>set_title</code> to add a title:</p>
<pre><code>(seaborn
 .scatterplot(x=&quot;total_bill&quot;, y=&quot;tip&quot;, data=tips)
 .set_title(&#39;Progression of tips along the bill amount&#39;)
)</code></pre>
<p>Set a common title for grid plots</p>
<pre><code>g = seaborn.FacetGrid(tips, col=&quot;time&quot;, row=&quot;smoker&quot;)
g = g.map(pyplot.hist, &quot;total_bill&quot;)
g.fig.suptitle(&#39;I don&#39;t smoke and I don&#39;t tip.&#39;)</code></pre>
<p>In case the title is overwritten on the subplots, you might need to use <a href="https://stackoverflow.com/a/28650623/2641825">fig.subplot_adjust()</a> as such:</p>
<pre><code>g.fig.subplots_adjust(top=.95)</code></pre>
</div>
<div id="figure-size" class="section level3">
<h3>Figure size</h3>
<p><code>set_figwidth</code> and <code>set_figheight</code> work well for grid objects.</p>
<pre><code>g = seaborn.FacetGrid(tips, col=&quot;time&quot;, row=&quot;smoker&quot;)
g = g.map(pyplot.hist, &quot;total_bill&quot;)
g.fig.set_figwidth(10)
g.fig.set_figheight(10) </code></pre>
<p>Mentioned as a comment under <a href="https://stackoverflow.com/a/56970556/2641825">this answer</a></p>
</div>
</div>
</div>
<div id="r-and-python" class="section level1">
<h1>R and python</h1>
<p>See also the section above on pandas data frame / comparison with R.</p>
<p><a href="https://jrvcomputing.wordpress.com/2016/11/14/migrating-from-r-to-python/">Migrating from R to python</a> Python is a full fledge programming language but it is missing statistical and plotting libraries. Vectors are an after thought in python most functionality can be reproduced using operator overloading, but some functionality looks clumsy.</p>
<div id="pandas-comparison-with-r" class="section level2">
<h2>Pandas comparison with R</h2>
<ul>
<li>pandas.pydata.org <a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/comparison/comparison_with_r.html">Comparison with R</a></li>
<li><a href="https://stmorse.github.io/journal/tidyverse-style-pandas.html">Tydiverse style pandas</a></li>
</ul>
<blockquote>
<p>“Tidyverse allows a mix of quoted and unquoted references to variable names. In my (in)experience, the convenience this brings is accompanied by equal consternation. It seems to me a lot of the problems solved by tidyeval would not exist if all variables were quoted all the time, as in pandas, but there are likely deeper truths I’m missing here…”</p>
</blockquote>
<p>R data frame to be used for examples:</p>
<pre><code>df = data.frame(x = 1:3, y = c(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;), stringsAsFactors = FALSE)</code></pre>
<p>Pandas data frame to be used for examples:</p>
<pre><code>`df = pandas.DataFrame({&#39;x&#39; : [1,2,3], &#39;y&#39; : [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]})  `</code></pre>
<table>
<colgroup>
<col width="36%" />
<col width="39%" />
<col width="24%" />
</colgroup>
<thead>
<tr class="header">
<th>Base R</th>
<th>pandas</th>
<th>SO questions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>gsub</td>
<td>replace(regex=True)</td>
<td><a href="https://stackoverflow.com/questions/21834293/equivalent-of-gsub-for-pandas-series-dataframe/56547104?noredirect=1#comment99677847_56547104">gsub in pandas</a></td>
</tr>
<tr class="even">
<td><code>df[df$y %in% c('a','b'),]</code></td>
<td><code>df[df['y'].isin(['a','b'])]</code></td>
<td><a href="https://stackoverflow.com/questions/12096252/use-a-list-of-values-to-select-rows-from-a-pandas-dataframe">list of values to select a row</a></td>
</tr>
<tr class="odd">
<td>length(df) and dim(df)</td>
<td>df.shape</td>
<td><a href="https://stackoverflow.com/questions/15943769/how-do-i-get-the-row-count-of-a-pandas-dataframe">row count of a data frame</a></td>
</tr>
<tr class="even">
<td>rbind</td>
<td>pandas.concat</td>
<td><a href="https://stackoverflow.com/questions/14988480/pandas-version-of-rbind">Pandas version of rbind</a></td>
</tr>
<tr class="odd">
<td>dput(df)</td>
<td>df.to_dict()</td>
<td><a href="https://stackoverflow.com/questions/47450931/print-pandas-data-frame-for-reproducible-example-equivalent-to-dput-in-r">Print pandas data frame for reproducible example</a></td>
</tr>
</tbody>
</table>
<p>The mapping of tidyverse to pandas is:</p>
<table>
<thead>
<tr class="header">
<th>tidyverse</th>
<th>pandas</th>
<th>SO questions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>mutate</td>
<td>assign</td>
<td></td>
</tr>
<tr class="even">
<td>select</td>
<td>filter</td>
<td></td>
</tr>
<tr class="odd">
<td>df %&gt;% select(-a,-b)</td>
<td>df.drop(columns=[‘a’, ‘b’])</td>
<td></td>
</tr>
<tr class="even">
<td>rename</td>
<td>df.rename(columns={‘a’:‘new’})</td>
<td></td>
</tr>
<tr class="odd">
<td>filter</td>
<td>query</td>
<td></td>
</tr>
<tr class="even">
<td>arrange</td>
<td>sort_values</td>
<td></td>
</tr>
<tr class="odd">
<td>group_by</td>
<td>groupby</td>
<td></td>
</tr>
<tr class="even">
<td>summarize</td>
<td>agg</td>
<td></td>
</tr>
<tr class="odd">
<td>pivot_longer</td>
<td><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.melt.html">melt</a></td>
<td></td>
</tr>
<tr class="even">
<td>pivot_wider</td>
<td><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.pivot.html">pivot</a></td>
<td></td>
</tr>
<tr class="odd">
<td>unnest</td>
<td><a href="https://pandas.pydata.org/pandas-docs/version/0.25/reference/api/pandas.DataFrame.explode.html">explode</a></td>
<td><a href="https://stackoverflow.com/a/53218939/2641825">unnest in pandas</a></td>
</tr>
</tbody>
</table>
<p>Methods to use inside the .groupby().agg() method:</p>
<ul>
<li><code>sum</code></li>
<li><code>count</code></li>
<li><code>mean</code></li>
<li><code>', '.join</code> <a href="https://stackoverflow.com/questions/17841149/pandas-groupby-how-to-get-a-union-of-strings">to get a union of strings</a></li>
</ul>
</div>
</div>
<div id="string" class="section level1">
<h1>String</h1>
<p><a href="https://stackoverflow.com/questions/25675943/how-can-i-concatenate-str-and-int-objects">SO answer</a> providing various ways to concatenate python strings.</p>
<div id="string-formatting" class="section level2">
<h2>String formatting</h2>
<p><a href="https://stackoverflow.com/a/10742904/2641825">How to print number with commas as thousands separators?</a></p>
<pre><code>f&#39;{1e6:,}&#39; </code></pre>
</div>
</div>
<div id="statistics" class="section level1">
<h1>Statistics</h1>
<div id="scaling" class="section level2">
<h2>Scaling</h2>
<p><a href="http://benalexkeen.com/feature-scaling-with-scikit-learn/">Feature scaling with scikit learn</a></p>
<ul>
<li>StandardScaler</li>
<li>MinMaxScaler</li>
<li>RobustScaler</li>
<li>Normalizer</li>
</ul>
</div>
</div>
<div id="unit-tests" class="section level1">
<h1>Unit tests</h1>
<p>See <a href="https://github.com/okken/markdown.py/blob/master/test_markdown_unittest.py">python markdown unit tests</a></p>
<div id="pytest" class="section level2">
<h2>pytest</h2>
<p>Numpy moved from nose to pytest in their, as explained in their <a href="https://docs.scipy.org/doc/numpy/reference/testing.html">testing guidelines</a>:</p>
<blockquote>
<p>“Until the 1.15 release, NumPy used the nose testing framework, it now uses the pytest framework. The older framework is still maintained in order to support downstream projects that use the old numpy framework, but all tests for NumPy should use pytest.”</p>
</blockquote>
<p>Save the file to test_nn.py</p>
<pre><code>import neural_nets as nn
import numpy as np

def test_rectified_linear_unit():
    x = np.array([[1,0],
                  [-1,-3]])
    expected = np.array([[1,0],
                         [0,0]])
    provided = nn.rectified_linear_unit(x)
    assert np.allclose(expected, provided), &quot;test failed&quot;</code></pre>
<p>Execute the test suite from bash with py.test as follows:</p>
<pre><code>cd ~/rp/course_machine_learning/projects/project_2_3_mnist/part2-nn
py.test</code></pre>
</div>
</div>
<div id="web-frameworks" class="section level1">
<h1>Web Frameworks</h1>
<p><a href="asynchrosnus://www.codementor.io/garethdwyer/flask-vs-django-why-flask-might-be-better-4xs7mdf8v">Flask vs. Django</a></p>
<p>Note: <a href="http://pgjones.gitlab.io/quart/flask_evolution.html#flask-evolution">Flask Evolution into Quart</a> to support <a href="http://pgjones.gitlab.io/quart/asyncio.html#asyncio">asyncio</a> This last link contains a nice, simple example of how asyncio works with a simulated delay to fetch a web page.</p>
</div>
<div id="media" class="section level1">
<h1>Media</h1>
<p>Podecast <a href="https://talkpython.fm/">talk python to me</a> * <a href="https://talkpython.fm/episodes/show/193/data-science-year-in-review-2018-edition">Data science year in review</a></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Paul Rougieux" />

<meta name="date" content="2017-08-17" />

<title>Python Commands</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Paul Rougieux</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-wrench"></span>
     
    Tools
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="bash.html">Bash</a>
    </li>
    <li>
      <a href="debian.html">Debian</a>
    </li>
    <li>
      <a href="docker.html">Docker</a>
    </li>
    <li>
      <a href="git.html">Git</a>
    </li>
    <li>
      <a href="lyx.html">Lyx</a>
    </li>
    <li>
      <a href="mysql.html">MySQL</a>
    </li>
    <li>
      <a href="python.html">Python</a>
    </li>
    <li>
      <a href="R.html">R</a>
    </li>
    <li>
      <a href="vim.html">Vim</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-database"></span>
     
    Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="datasources.html">Sources</a>
    </li>
    <li>
      <a href="explore.html">Explore</a>
    </li>
  </ul>
</li>
<li>
  <a href="events.html">
    <span class="fa fa-users"></span>
     
    Events
  </a>
</li>
<li>
  <a href="publications.html">
    <span class="fa fa-book"></span>
     
    Publications
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Python Commands</h1>
<h4 class="author"><em>Paul Rougieux</em></h4>
<h4 class="date"><em>17 August 2017</em></h4>

</div>


<div id="control-flow" class="section level1">
<h1>Control flow</h1>
<p>dotnetperls: <a href="https://www.dotnetperls.com/not-python">not python</a></p>
</div>
<div id="object-types" class="section level1">
<h1>Object types</h1>
<p><code>type()</code> displays the type of an object.</p>
<pre><code>i = 1
print(type(i))
# &lt;type &#39;int&#39;&gt;
x = 1.2
print(type(x))
# &lt;type &#39;float&#39;&gt;
t = (1,2)
print(type(t))
# &lt;type &#39;tuple&#39;&gt;
l = [1,2]
print(type(l))
# &lt;type &#39;list&#39;&gt;</code></pre>
<div id="list" class="section level2">
<h2>List</h2>
<p><a href="https://stackoverflow.com/a/31077838/2641825">Remove an element from a list of strings</a></p>
<pre><code>myList = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]
myList.remove(&#39;c&#39;)
myList
[&#39;a&#39;, &#39;b&#39;, &#39;d&#39;]</code></pre>
<div id="list-of-tuples" class="section level3">
<h3>List of tuples</h3>
<p><a href="https://stackoverflow.com/questions/10632839/transform-list-of-tuples-into-a-flat-list-or-a-matrix">How to flatten a list of tuples</a></p>
<pre><code>nested_list = [(1, 2, 4), (0, 9)]</code></pre>
<p>Using <code>reduce</code>:</p>
<pre><code>reduce(lambda x,y:x+y, map(list, nested_list))                                                                                                                              
[1, 2, 4, 0, 9]</code></pre>
<p>Using itertools.chain:</p>
<pre><code>import itertools
list(itertools.chain.from_iterable(nested_list))</code></pre>
<p>Using <code>extend</code>:</p>
<pre><code>flat_list = []
for a_tuple in nested_list:
    flat_list.extend(list(a_tuple))                                                                                                                                     
flat_list
[1, 2, 4, 0, 9]</code></pre>
</div>
</div>
<div id="set" class="section level2">
<h2>Set</h2>
<p>Instances of <a href="https://docs.python.org/3/library/stdtypes.html#set">set</a> provide the following operations:</p>
<pre><code>issubset(other)
set &lt;= other

    Test whether every element in the set is in other.

set &lt; other

    Test whether the set is a proper subset of other, that is, set &lt;= other and set != other.

issuperset(other)
set &gt;= other

    Test whether every element in other is in the set.

set &gt; other

    Test whether the set is a proper superset of other, that is, set &gt;= other and set != other.

union(*others)
set | other | ...

    Return a new set with elements from the set and all others.

intersection(*others)
set &amp; other &amp; ...

    Return a new set with elements common to the set and all others.

difference(*others)
set - other - ...

    Return a new set with elements in the set that are not in the others.

symmetric_difference(other)
set ^ other

    Return a new set with elements in either the set or other but not both.</code></pre>
</div>
</div>
<div id="ipython" class="section level1">
<h1>ipython</h1>
<p>Add these options at the ipyhton command line to reload objects automatically while you are coding</p>
<pre><code>%load_ext autoreload   
%autoreload 2         </code></pre>
<div id="debugging-in-ipython" class="section level2">
<h2>Debugging in ipython</h2>
<p>Once an error occurs at the ipython command line. Press <code>debug</code> then you can move up the stack trace with:</p>
<pre><code>`u`</code></pre>
<p>Move down the stack trace with:</p>
<pre><code>`d` </code></pre>
<p>Show code context of the error:</p>
<pre><code>`l` </code></pre>
<p>Show available variable in the current context:</p>
<pre><code>`a` </code></pre>
</div>
</div>
<div id="jupyter-notebooks" class="section level1">
<h1>Jupyter notebooks</h1>
<p>Using the Table of Content extension <a href="https://github.com/minrk/ipython_extensions#table-of-contents">jupyter table of content extension</a></p>
<pre><code>jupyter nbconvert --to markdown mynotebook.ipynb
jupyter nbconvert --to html mynotebook.ipynb</code></pre>
<div id="help-in-a-jupyter-notebook" class="section level2">
<h2>Help in a jupyter notebook</h2>
<p>To get help on a function, enter <code>function_name?</code> in a cell.</p>
</div>
</div>
<div id="objects" class="section level1">
<h1>Objects</h1>
<div id="inheritance-and-composition" class="section level2">
<h2>Inheritance and composition</h2>
<p>Example</p>
<pre><code>###############################################################################
class Vehicle(object):

    def __init__(self, color, speed_max, garage=None):
        # Default attributes #
        self.color = color
        self.speed_max = speed_max
        self.garage = garage

    def paint(self, new_color):
        # Default attributes #
        self.color = new_color

    def go_back_home(self, new_color):
        # Default attributes #
        self.position = self.go_to(self.parent.location)

###############################################################################
class Car(Vehicle):

    def open_door(self):
        pass

###############################################################################
class Boat(Vehicle):

    def open_balast(self):
        pass

###############################################################################
class Garage(object):

    def __init__(self, all_vehicles):
        self.all_vehicles = all_vehicles

    def mass_paint(self, new_color):
        # Default attributes #
        for v in self.all_vehicles: v.paint(new_color)

    def build_car(self, color):
        new_car = Car(color, 90, self)
        self.all_vehicles.append(new_car)
        return new_car

    @property
    def location(self):
        return &#39;10, 18&#39;

###############################################################################
###############################################################################
###############################################################################
honda = Car(&#39;bleu&#39;, 60)
gorgeoote = Boat(&#39;rouge&#39;, 30)
honda.paint(&#39;purple&#39;)

mike = Garage([honda, gorgeoote])

mike.mass_paint()

sport_car = mike.build_car(&#39;rouge&#39;)</code></pre>
</div>
</div>
<div id="pandas-data-frames" class="section level1">
<h1>Pandas data frames</h1>
<div id="joining-and-merging" class="section level2">
<h2>Joining and merging</h2>
<p>Stackoverflow <a href="https://stackoverflow.com/questions/53645882/pandas-merging-101/53645883#53645883">Pandas mergin</a></p>
</div>
<div id="reshaping" class="section level2">
<h2>Reshaping</h2>
<p><a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/reshaping.html#reshaping-by-melt">The Pandas user guide on reshaping</a> gives several example using <code>melt</code> (easier to rename the “variable” and “value” columns) or <code>stack</code> (designed to work together with MultiIndex objects).</p>
</div>
<div id="replacement" class="section level2">
<h2>Replacement</h2>
<p><a href="https://stackoverflow.com/questions/12152716/python-pandas-equivalent-for-replace">Pyton pandas equivalent for replace</a></p>
<pre><code>import pandas
s = pandas.Series([&quot;ape&quot;, &quot;monkey&quot;, &quot;seagull&quot;])
s.replace([&quot;ape&quot;, &quot;monkey&quot;], [&quot;lion&quot;, &quot;panda&quot;])
s.replace(&quot;a&quot;, &quot;x&quot;, regex=True)
s.replace({&quot;ape&quot;: &quot;lion&quot;, &quot;monkey&quot;: &quot;panda&quot;})
pandas.Series([&quot;bla&quot;, &quot;bla&quot;]).replace(&quot;a&quot;,&quot;i&quot;,regex=True)</code></pre>
</div>
<div id="selection-with-loc-and-iloc" class="section level2">
<h2>Selection with loc and iloc</h2>
<p><a href="https://www.shanelynn.ie/select-pandas-dataframe-rows-and-columns-using-iloc-loc-and-ix/">Select pandas data frame rows and columns using iloc and loc</a></p>
</div>
<div id="pandas-comparison-with-r" class="section level2">
<h2>Pandas comparison with R</h2>
<ul>
<li>pandas.pydata.org <a href="https://pandas.pydata.org/pandas-docs/stable/getting_started/comparison/comparison_with_r.html">Comparison with R</a></li>
<li><a href="https://stmorse.github.io/journal/tidyverse-style-pandas.html">Tydiverse style pandas</a></li>
</ul>
<blockquote>
<p>“Tidyverse allows a mix of quoted and unquoted references to variable names. In my (in)experience, the convenience this brings is accompanied by equal consternation. It seems to me a lot of the problems solved by tidyeval would not exist if all variables were quoted all the time, as in pandas, but there are likely deeper truths I’m missing here…”</p>
</blockquote>
<p>R data frame to be used for examples:</p>
<pre><code>df = data.frame(x = 1:3, y = c(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;), stringsAsFactors = FALSE)</code></pre>
<p>Pandas data frame to be used for examples:</p>
<pre><code>df = pandas.DataFrame({&#39;x&#39; : [1,2,3], &#39;y&#39; : [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;]})  </code></pre>
<table>
<thead>
<tr class="header">
<th align="left">Base R</th>
<th align="left">pandas</th>
<th align="left">SO questions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">gsub</td>
<td align="left">replace(regex=True)</td>
<td align="left"><a href="https://stackoverflow.com/questions/21834293/equivalent-of-gsub-for-pandas-series-dataframe/56547104?noredirect=1#comment99677847_56547104">gsub in pandas</a></td>
</tr>
<tr class="even">
<td align="left">length(df) and dim(df)</td>
<td align="left">df.shape</td>
<td align="left"><a href="https://stackoverflow.com/questions/15943769/how-do-i-get-the-row-count-of-a-pandas-dataframe">row count of a data frame</a></td>
</tr>
<tr class="odd">
<td align="left">df[df$y %in% c(‘a’,‘b’),]</td>
<td align="left">df[df[‘y’].isin([‘a’,‘b’])]</td>
<td align="left"><a href="https://stackoverflow.com/questions/12096252/use-a-list-of-values-to-select-rows-from-a-pandas-dataframe">list of values to select a row</a></td>
</tr>
</tbody>
</table>
<p>The mapping of tidyverse to pandas is:</p>
<table>
<thead>
<tr class="header">
<th align="left">tidyverse</th>
<th align="left">pandas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">mutate</td>
<td align="left">assign</td>
</tr>
<tr class="even">
<td align="left">select</td>
<td align="left">filter</td>
</tr>
<tr class="odd">
<td align="left">rename</td>
<td align="left">rename</td>
</tr>
<tr class="even">
<td align="left">filter</td>
<td align="left">query</td>
</tr>
<tr class="odd">
<td align="left">arrange</td>
<td align="left">sort_values</td>
</tr>
<tr class="even">
<td align="left">group_by</td>
<td align="left">groupby</td>
</tr>
<tr class="odd">
<td align="left">summarize</td>
<td align="left">agg</td>
</tr>
<tr class="even">
<td align="left">gather</td>
<td align="left">melt</td>
</tr>
<tr class="odd">
<td align="left">spread</td>
<td align="left">pivot</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="unit-tests" class="section level1">
<h1>Unit tests</h1>
<p>See <a href="https://github.com/okken/markdown.py/blob/master/test_markdown_unittest.py">python markdown unit tests</a></p>
</div>
<div id="string" class="section level1">
<h1>String</h1>
<p><a href="https://stackoverflow.com/questions/25675943/how-can-i-concatenate-str-and-int-objects">SO answer</a> providing various ways to concatenate python strings.</p>
</div>
<div id="web-frameworks" class="section level1">
<h1>Web Frameworks</h1>
<p><a href="asynchrosnus://www.codementor.io/garethdwyer/flask-vs-django-why-flask-might-be-better-4xs7mdf8v">Flask vs. Django</a></p>
<p>Note: <a href="http://pgjones.gitlab.io/quart/flask_evolution.html#flask-evolution">Flask Evolution into Quart</a> to support asyncio</p>
</div>
<div id="media" class="section level1">
<h1>Media</h1>
<p>Podecast <a href="https://talkpython.fm/">talk python to me</a> * <a href="https://talkpython.fm/episodes/show/193/data-science-year-in-review-2018-edition">Data science year in review</a></p>
</div>
<div id="r-and-python" class="section level1">
<h1>R and python</h1>
<p>See also the section above on pandas data frame / comparison with R.</p>
<p><a href="https://jrvcomputing.wordpress.com/2016/11/14/migrating-from-r-to-python/">Migrating from R to python</a> Python is a full fledge programming language but it is missing statistical and plotting libraries. Vectors are an after thought in python most functionality can be reproduced using operator overloading, but some functionality looks clumsy.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
